<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: measure</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: measure</h3>

<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>measure</b> &nbsp;<i>property</i> &nbsp;<i>arguments</i></h3>
<p>
The <b>measure</b> command performs various calculations
and sends results to the <a href="../tools/log.html"><b>Log</b></a>.
Possible values of <i>property</i>:
</p>
<ul>
<li><a href="#buriedArea"><b>buriedArea</b></a> 
- calculate <a href="surface.html#surfdefs">solvent-accessible surface</a>
area buried between two sets of atoms
<li><a href="#convexity"><b>convexity</b></a>
- calculate convexity at each surface vertex, color the surface accordingly
<li><a href="#length"><b>length</b></a>
- sum bond lengths
<li><a href="#motion"><b>motion</b></a>
- show changes in surface position by drawing lines
<li><a href="#sasa"><b>sasa</b></a>
- calculate <a href="surface.html#surfdefs">solvent-accessible surface</a>
area
</ul>
<p>
See also: <a href="interfaces.html"><b>interfaces</b></a>,
<a href="surface.html"><b>surface</b></a>,
<a href="surface.html#zone"><b>surface zone</b></a>,
<a href="../radii.html">VDW radii</a>,
<a href="../measurements.html">measurements</a>
</p>
<a href="#top" class="nounder">&bull;</a>
<a name="buriedArea"><b>measure buriedArea</b></a>
&nbsp;<a href="atomspec.html"><i>atom-spec1</i></a>&nbsp; <b>withAtoms2</b>
&nbsp;<a href="atomspec.html"><i>atom-spec2</i></a>&nbsp;
[&nbsp;<b>probeRadius</b>&nbsp;&nbsp;<i>rad</i>&nbsp;]
[&nbsp;<b>listResidues</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>cutoffArea</b>&nbsp;&nbsp;<i>area</i>&nbsp;] 
[&nbsp;<b>select</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;]
<blockquote>
Calculate the <a href="surface.html#surfdefs">solvent-accessible surface</a>
(SAS) area buried between two sets of atoms, defined as:
<blockquote>
&frac12;
(<i>sasa1</i>&nbsp;+&nbsp;<i>sasa2</i>&nbsp;&ndash;&nbsp;<i>sasa12</i>)
</blockquote>
where &nbsp;<i>sasa1</i> is the area of the SAS
enclosing the atoms in &nbsp;<a href="atomspec.html"><i>atom-spec1</i></a>,
&nbsp;<i>sasa2</i> is the area of the SAS 
enclosing the atoms in &nbsp;<a href="atomspec.html"><i>atom-spec2</i></a>,
and &nbsp;<i>sasa12</i> is the area of the SAS enclosing both sets of atoms
together. 
The sets of atoms should be specified with care; they should not overlap,
and solvent, ions, and ligand residues are not excluded automatically.
Unspecified atoms are ignored.
The default <b>probeRadius</b> <i>rad</i> for calculating each SAS
is <b>1.4</b> &Aring;, often used to approximate a water molecule.
Residues with at least <b>cutoffArea</b> <i>area</i> buried
(default <b>1.0</b> &Aring;<sup>2</sup>) can be:
<ul>
<li>listed along with their buried areas
in the <a href="../tools/log.html"><b>Log</b></a> 
using the <b>listResidues</b> option
<li><a href="../selection.html">selected</a> with the <b>select</b> option
<li>colored using <b>color</b> <a href="colornames.html"><i>color-spec</i></a>
</ul>
<p>
The buried area of a residue is its SAS area in the individual set minus
that in the combined set.
Examples:
</p>
<blockquote>
<b>measure buriedarea (/c & protein) with (/d & protein)</b>
<br>
&ndash; calculate buried surface area between the
<a href="atomspec.html#builtin"><b>protein</b></a> parts only of chains C and D
<br><br>
<b>measure buried ligand with protein list T sel T</b>
<br>
&ndash; select and list residues with &ge; 1.0 &Aring;<sup>2</sup> area
buried between <a href="atomspec.html#builtin"><b>ligand</b></a> and
<a href="atomspec.html#builtin"><b>protein</b></a>
</blockquote>
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="convexity"></a>
<b>measure convexity</b>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-model</i></a>&nbsp;
[&nbsp;<b>smoothingIterations</b>&nbsp;&nbsp;<i>N</i>&nbsp;]
[&nbsp;<b>writeSurfaceData</b>&nbsp;&nbsp;<i>filename</i>&nbsp;]
[&nbsp;<b>patches</b>&nbsp;&nbsp;<i>convexity-threshold</i>&nbsp;]
&nbsp;<a href="color.html#palette-options"><i>palette-options</i></a>&nbsp;
<blockquote>
Color a surface based on the convexity at each vertex, 
calculated as 2&pi; minus the cone-angle spanned by the triangles incident 
at the vertex. Convexity values are smoothed by averaging with 
neighboring (edge-connected) vertices for a specified number of iterations
(default <b>5</b>). Smoothing is generally recommended, given that this
definition of convexity is nonstandard and the unsmoothed values 
depend strongly on the triangulation:
vertices surrounded by large triangles on a smooth surface 
will have sharper cone angles than vertices surrounded by small triangles.
(Normalizing by triangle areas does not help because the patch around
a vertex is often irregular in shape.) 
The surface vertex positions, normals, convexity values, and triangles 
can be saved to a text file with <b>writeSurfaceData</b>,
where <i>filename</i> can be a pathname including the directory location.
<p>
The remaining options specify coloring.
The <b>patches</b> option randomly assigns colors to contiguous patches
of vertices with convexity values above the <i>convexity-threshold</i>. 
Otherwise (<b>patches</b> not used),
the surface will be colored by the convexity value per vertex,
with <i>palette-options</i> as
<a href="color.html#palette-options">described for <b>color</b></a>,
except with defaults 
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=#0f1bc7adcf5b width="10px"></td>
<td bgcolor=#b333b333b333 width="10px"></td>
<td bgcolor=#9eb820005eb8 width="10px"></td>
</tr></table>:
<blockquote>
<b>palette&nbsp;cyan-gray-maroon&nbsp;&nbsp;range&nbsp;-1,1</b>
</blockquote>
Unsmoothed values typically give mottled coloring.
See also: <a href="mlp.html"><b>mlp</b></a>, 
<a href="color.html"><b>color</b></a>,
<a href="bumps.html"><b>bumps</b><?a>
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="length"><b>measure length</b></a>
&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
<blockquote>
Sum the lengths of all bonds between specified atoms 
(<a href="../markers.html">markers</a>);
primarily used to measure the length of traced paths of markers.
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="motion"><b>measure motion</b></a>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-model</i></a>&nbsp;
<b>toMap</b>&nbsp;&nbsp;<a href="atomspec.html#othermodels"><i>map-model</i></a>&nbsp;
[&nbsp;<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;]
[&nbsp;<b>steps</b>&nbsp;&nbsp;<i>M</i>&nbsp;]
[&nbsp;<b>scale</b>&nbsp;&nbsp;<i>f</i>&nbsp;]
[&nbsp;<b>pricklesModel</b>&nbsp;&nbsp;<i>N</i>&nbsp;]
<blockquote>
Draw &ldquo;prickles&rdquo; to show the change in position
between a surface and a <a href="../tools/volumeviewer.html">volume</a>
(map) isosurface, for example, between time steps of a
<a href="../trajectories.html#vseries">volume series</a>.
Prickles are line segments drawn perpendicular to the surface.
They are extended from the vertices of <i>surf-model</i>
in increments of map grid units 
(using the smallest spacing along the three axes, if they differ)
until they intersect with the map isosurface or reach
<b>steps</b> <i>M</i> grid units in length (default <b>10</b>).
Prickles are shown in the specified <b>color</b> (default <b>lime</b>) and
can be amplified or shrunken in length by a <b>scale</b> factor <i>f</i>.
If a model number is specified with <b>pricklesModel</b> <i>N</i>,
the prickles will be added as a submodel of <i>N</i>.
If a model number is not specified,
the new model will be a submodel of <i>surf-model</i>.
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="sasa"><b>measure sasa</b></a>
&nbsp;<a href="atomspec.html"><i>atom-spec1</i></a>&nbsp;
[&nbsp;<b>probeRadius</b>&nbsp;&nbsp;<i>rad</i>&nbsp;]
[&nbsp;<b>setAttribute</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
[&nbsp;<b>sum</b>&nbsp;&nbsp;<a href="atomspec.html"><i>atom-spec2</i></a>&nbsp;]
<blockquote>
Calculate the area of a
<a href="surface.html#surfdefs">solvent-accessible surface</a>
(SAS) enclosing the atoms in &nbsp;<a href="atomspec.html"><i>atom-spec1</i></a>
and report the total value in the <a href="../tools/log.html"><b>Log</b></a>.
The <b>setAttribute</b> option specifies whether to assign the values
per atom and residue as <a href="../attributes.html">attributes</a>
named <b>area</b> (default <b>true</b>).
The <b>sum</b> option can be used to report the
area contribution from some subset of the atoms
(given as &nbsp;<a href="atomspec.html"><i>atom-spec2</i></a>).
The calculated SAS is not displayed. The atoms should be specified with care;
solvent, ions, and ligand residues are not excluded automatically.
Unspecified atoms are ignored, as are atoms in 
&nbsp;<a href="atomspec.html"><i>atom-spec2</i></a> 
that are not also in &nbsp;<a href="atomspec.html"><i>atom-spec1</i></a>.
The default <b>probeRadius</b> <i>rad</i> for calculating the SAS
is <b>1.4</b> &Aring;, often used to approximate a water molecule.
Example:
<blockquote>
<b>measure sasa #1/a & protein sum :phe,tyr,trp</b>
<br>
&ndash; calculate the SAS of the
<a href="atomspec.html#builtin"><b>protein</b></a> in model #1 chain A
and report both the total area and the collective contribution from
phenylalanine, tyrosine, and tryptophan residues
</blockquote>
</blockquote>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
September 2018</address>
</body></html>
