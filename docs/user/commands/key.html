<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: key</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: key</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>key</b> &nbsp;<i>colors-and-labels</i>
&nbsp;<b>pos</b>&nbsp;&nbsp;<i>xpos,ypos</i>&nbsp;
[&nbsp;<b>size</b>&nbsp;&nbsp;<i>width,height</i>&nbsp;]
[&nbsp;<b>colorTreatment</b>&nbsp;&nbsp;<b>blended</b>&nbsp;|&nbsp;distinct&nbsp;]
[&nbsp;<b>labelColor</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;<b>none</b>&nbsp;]
<!-- probably should be default or auto instead of none, like 2dlabels -->
[&nbsp;<b>font</b>&nbsp;&nbsp;<i>font-name</i>&nbsp;]
[&nbsp;<b>fontSize</b>&nbsp;&nbsp;<i>font-size</i>&nbsp;]
[&nbsp;<b>bold</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>italic</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>labelSide</b>&nbsp;&nbsp;left/top&nbsp;|&nbsp;<b>right/bottom</b>&nbsp;]
[&nbsp;<b>numericLabelSpacing</b>&nbsp;&nbsp;equal&nbsp;|&nbsp;<b>proportional</b>&nbsp;]
[&nbsp;<b>justification</b>&nbsp;&nbsp;left&nbsp;|&nbsp;right&nbsp;|&nbsp;<b>decimal</b>&nbsp;]
[&nbsp;<b>labelOffset</b>&nbsp;&nbsp;<i>offset</i>&nbsp;]
</h3>
<a name="listfonts"></a>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>key listfonts</b>
</h3>
<a name="delete"></a>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br>(&nbsp;<b>key&nbsp;delete</b>&nbsp;|&nbsp;<b>~key</b>)
</h3>
<p>
The <b>key</b> command creates a color key to show the value-to-color
correspondences for:
<ul>
<li><a href="color.html#byattribute">coloring by attribute</a>  
such as bfactor
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/bfactor.png"></a>
<li><a href="color.html#map">coloring by map value or gradient</a>
<li><a href="color.html#distance">coloring by distance</b></a> 
(radial, cylindrical, topographic height)
</ul>
<p>
See also: 
<a href="coulombic.html"><b>coulombic</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/esp.png"></a>,
<a href="mlp.html"><b>mlp</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/hydrophobicity.png"></a>,
<a href="measure.html#convexity"><b>measure convexity</b></a>,
<a href="2dlabels.html"><b>2dlabels</b></a>,
<a href="palettes.html">palettes</a>,
<a href="../images.html">making images</a>
</p><p>
The <i>colors-and-labels</i> specification is required,
and can be given in either of the following ways:
</p>
<ul>
<li>Two or more space-separated pairs of the form:
<blockquote>
<a href="colornames.html"><i>color-spec</i></a>:<i>label</i>
</blockquote>
For example, 
<blockquote>
<b>blue:min white: red:max</b>
</blockquote>
<li>An existing
<a href="color.html#palette-options"><i>palette-name</i></a> 
followed by labels entered as:
<blockquote>
:<i>label1</i> :<i>label2</i> [...] :<i>labelN</i>
</blockquote>
...where 
the number of labels must equal the number of colors in the palette.
The command <a href="palette.html#list"><b>palette list</b></a>
lists the available palettes in the <a href="../tools/log.html"><b>Log</b></a>.
Example:
<blockquote>
<b>lipophilicity :-20 :0 :10</b>
</blockquote>
</ul>
<p>
Either way, each label can be numeric, text, or blank.
Any label text that includes a space must be enclosed in quotation marks.
The colors must be given in left-right order for a horizontal key
or top-to-bottom order for a vertical key, and if the labels are numeric,
the values should be in monotonically increasing or decreasing order.
If both numeric and text labels are used on the same color key,
or numeric labels are not in monotonic order, the entire set of labels will be
treated as text and cannot be spaced proportionally to the numeric values.
</p><p>
The color key is added as a new model. 
Initial defaults are shown above with <b>bold</b>, 
but if a color key is already present, the existing model is
simply updated and any unspecified options are left unchanged.
The <a href="#delete"><b>key delete</b></a> or 
<a href="#delete"><b>~key</b></a> command removes an existing color-key model.
</p><p>
The <b>size</b> and <b>pos</b> options, respectively,
set the dimensions and lower-left-corner position of the rectangular 
color-key bar. The values are expressed in fractional coordinates 
0.0-1.0 where 1.0 represents the full width or height of the 
<a href="../window.html">graphics window</a> and 1.0,1.0 its top right corner.
The <b>pos</b> must be specified if a color key does not
already exist (has no initial default), whereas the initial default size
is <b>0.25,0.05</b>.
</p><p>
The <b>colorTreatment</b> indicates whether the colors should be
interpolated along the bar (<b>blended</b>, initial default) 
or shown as <b>distinct</b> bands.
</p><p>
The <b>labelSide</b> sets which side of the bar to place labels.
Vertical bars (taller than wide) can have the labels on the left or right 
(initial default <b>right</b>) 
whereas horizontal bars can have the labels on the 
top or the bottom (initial default <b>bottom</b>). 
The <b>justification</b> of labels on a vertical bar can be left-,
right- (initial default for text), 
or by decimal position (initial default for numerical).
The <b>labelOffset</b> moves all labels further away from (positive values)
or closer to (negative values) the bar.
The spacing of numeric labels along the bar can be equal or 
proportional to the values (<b>numericLabelSpacing proportional</b>, 
initial default).  Text labels are spaced equally.
</p><p>
If <b>labelColor</b> is set to <b>none</b> (initial default),
it will automatically adjust to <b>white</b> or <b>black</b>
depending on the color of
the <a href="set.html#bgColor">window background</a>.
The available <b>font</b> settings (initial default <b>Arial</b>)
can be listed with <a href="#listfonts"><b>key listfonts</b></a>,
and font names with spaces must be enclosed in quotation marks.
The <b>fontSize</b> must be an integer greater than zero
(initial default <b>24</b>).
In addition, the font can be designated as <b>italic</b> and/or <b>bold</b>
(initial default <b>false</b> for both).
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
February 2021</address>
</body></html>
