<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: key</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: key</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>key</b> [&nbsp;<i>colors-and-labels</i>&nbsp;]
[&nbsp;<b>pos</b>&nbsp;&nbsp;<i>xpos,ypos</i>&nbsp;]
[&nbsp;<b>size</b>&nbsp;&nbsp;<i>width,height</i>&nbsp;]
[&nbsp;<b>colorTreatment</b>&nbsp;&nbsp;<b>blended</b>&nbsp;|&nbsp;distinct&nbsp;]
[&nbsp;<b>numericLabelSpacing</b>&nbsp;&nbsp;equal&nbsp;|&nbsp;<b>proportional</b>&nbsp;]
[&nbsp;<b>labelSide</b>&nbsp;&nbsp;left/top&nbsp;|&nbsp;<b>right/bottom</b>&nbsp;]
[&nbsp;<b>justification</b>&nbsp;&nbsp;left&nbsp;|&nbsp;right&nbsp;|&nbsp;decimal&nbsp;]
[&nbsp;<b>labelOffset</b>&nbsp;&nbsp;<i>offset</i>&nbsp;]
[&nbsp;<b>labelColor</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;<b>default</b>&nbsp;]
[&nbsp;<b>font</b>&nbsp;&nbsp;<i>font-name</i>&nbsp;]
[&nbsp;<b>fontSize</b>&nbsp;&nbsp;<i>font-size</i>&nbsp;]
[&nbsp;<b>bold</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>italic</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
</h3>
<table class="clRight">
<tr><td>
<img class="outline" src="../tutorials/bind6.png" 
alt="Coulombic ESP flat lighting" width="280px">
</td></tr>
<tr><td align="center">
<font size="-1">
see <a href="../tutorials/binding-sites.html#esp">image how-to</a>
</font>
</td></tr>
</table>
<a name="listfonts"></a>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>key listfonts</b>
</h3>
<a name="delete"></a>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br>(&nbsp;<b>key&nbsp;delete</b>&nbsp;|&nbsp;<b>~key</b>)
</h3>
<p>
The <b>key</b> command creates a color key to show the value-to-color
correspondences for:
<ul>
<li><a href="color.html#byattribute">coloring by attribute</a>  
such as bfactor
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/bfactor.png"></a>
<li><a href="color.html#map">coloring by map value or gradient</a>
<li><a href="color.html#distance">coloring by distance</b></a> 
(radial, cylindrical, topographic height)
</ul>
<p>
See also: 
<a href="coulombic.html"><b>coulombic</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/esp.png"></a>,
<a href="mlp.html"><b>mlp</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar..."><img 
class="icon" border=1 src="../tools/shortcut-icons/hydrophobicity.png"></a>,
<a href="measure.html#convexity"><b>measure convexity</b></a>,
<a href="2dlabels.html"><b>2dlabels</b></a>,
<a href="../images.html">making images</a>
</p><p>
The color key is added as a new model that can be acted on 
by general commands such as <a href="close.html"><b>close</b></a> and
<a href="show.html"><b>show/hide</b></a>.
Initial defaults are described in this page,
but if a color key is already present, the existing model is
simply updated and any unspecified options are left unchanged.
Only one color key can be present at a time.
The <a href="#delete"><b>key delete</b></a> or 
<a href="#delete"><b>~key</b></a> command removes an existing color-key model.
</p><p>
The <i>colors-and-labels</i> specification 
can be given in either of the two ways described below, or even as
a mixture of the two. Each label can be numeric, text, or blank.
The initial default is 
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=blue width="10px" title="blue"></td>
<td bgcolor=white width="10px" title="white"></td>
<td bgcolor=red width="10px" title="red"></td>
</tr></table>
with labels <b>min</b>, blank, and <b>max</b>.
</p>
<ol>
<li>Two or more space-separated pairs of the form:
<blockquote>
<a href="colornames.html"><i>color-spec</i></a>:<i>label</i>
</blockquote>
For example, to give the initial-default colors and labels mentioned above:
<blockquote>
<b>key blue:min white: red:max</b>
</blockquote>
<li>An existing <a href="color.html#palette-options"><i>palette-name</i></a>
followed by labels entered as:
<blockquote>
:<i>label1</i> :<i>label2</i> [...] :<i>labelN</i>
</blockquote>
<p>
...where the number of labels must equal the number of colors in the palette.
The command <a href="palette.html#list"><b>palette list</b></a>
lists the available palettes in the <a href="../tools/log.html"><b>Log</b></a>.
Examples:
</p>
<blockquote>
<b>key ^piyg-5 :-2 :-1 :0 :1 :2</b>
<br>
<b>key lipophilicity :-20 :0 :20 size .05,.25 pos .85,.05</b>
</blockquote>
<p>
Example of a mixture of the two types of specification:
</p>
<blockquote>
<b>key blue:0.0 cyanmaroon :0.2 :0.5 :1.0 pos .2,.08 size .6,.05</b>
</blockquote>
</ol>
<p>
The colors and labels must be given in left&rarr;right order 
for a horizontal key or bottom&rarr;top for a vertical key.
Any label text that includes a space must be enclosed in quotation marks.
</p><p>
The <b>size</b> and <b>pos</b> options, respectively,
set the dimensions and lower-left-corner position of the rectangular 
color-key bar. The values are expressed in fractional coordinates 
0.0-1.0 where 1.0 represents the full width or height of the 
<a href="../window.html">graphics window</a> and 1.0,1.0 its top right corner.
The initial default position is <b>0.7,0.08</b>,
and the initial default size is <b>0.25,0.05</b>.
</p><p>
The <b>colorTreatment</b> indicates whether the colors should be
interpolated along the bar (<b>blended</b>, initial default) 
or shown as <b>distinct</b> bands.
</p><p>
Numeric labels can be spaced equally along the bar or
proportional to the values (<b>numericLabelSpacing proportional</b>, 
initial default). Text labels are spaced equally.
If numeric and text (or blank) labels are used in the same color key,
or the numeric labels are not in monotonic order 
(always increasing or always decreasing), the entire set of labels
will be treated as text and cannot be spaced proportional to values.
</p><p>
The <b>labelSide</b> sets which side of the bar to place labels.
Vertical bars (taller than wide) can have the labels on the left or right 
(initial default <b>right</b>) 
whereas horizontal bars can have the labels on the 
top or the bottom (initial default <b>bottom</b>). 
The <b>justification</b> of labels on a vertical bar can be left,
right (initial default for text), 
or by decimal position (initial default for numerical).
The <b>labelOffset</b> moves all labels further away from (positive pixel 
values) or closer to (negative pixel values) the bar.
</p><p>
If <b>labelColor</b> is set to <b>auto</b> or <b>default</b> (initial default),
it will automatically adjust to <b>white</b> or <b>black</b>
depending on the color of the <a href="set.html#bgColor">window background</a>.
The available <b>font</b> settings (initial default <b>Arial</b>)
can be listed with <a href="#listfonts"><b>key listfonts</b></a>,
and font names with spaces must be enclosed in quotation marks.
The <b>fontSize</b> must be an integer greater than zero
(initial default <b>24</b>).
In addition, the font can be designated as <b>italic</b> and/or <b>bold</b>
(initial default <b>false</b> for both).
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
February 2021</address>
</body></html>
