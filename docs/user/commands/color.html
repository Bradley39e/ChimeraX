<!--
=== UCSF ChimeraX Copyright ===
Copyright (c) 2015-2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<html><head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: color, rainbow</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-icon.svg" title="to User Guide Index..."
class="clRight" alt="ChimeraX logo"/></a>

<h3>Command: color, rainbow</h3>
<h3><a href="usageconventions.html">Usage</a>:
<br><b>color</b>
&nbsp;<a href="atomspec.html"><i>spec</i></a>&nbsp;
&nbsp;<a href="#colorname"><i>colorname</i></a>&nbsp;
&nbsp;<a href="#general-options"><i>general-options</i></a>
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<br><b>color</b>
&nbsp;<a href="atomspec.html"><i>surface-spec</i></a>
&nbsp;map&nbsp;&nbsp;<a href="atomspec.html"><i>map-model</i></a>&nbsp;
&nbsp;<a href="#palette-options"><i>palette-options</i></a>&nbsp;
&nbsp;<a href="#general-options"><i>general-options</i></a>
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<br><b>color</b>
&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>
&nbsp;<b>sequential</b>
&nbsp;<a href="#level"><i>level</i></a>&nbsp;
[&nbsp;palette&nbsp;&nbsp;<a href="#palette"><i>palette</i></a>&nbsp;]
&nbsp;<a href="#general-options"><i>general-options</i></a>
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<BR><b>rainbow</b> &nbsp;<a href="atomspec.html"><i>atom-spec</i></a>
[&nbsp;<a href="#level"><i>level</i></a>&nbsp;]
[&nbsp;palette&nbsp;&nbsp;<a href="#palette"><i>palette</i></a>&nbsp;]
&nbsp;<a href="#general-options"><i>general-options</i></a>
</h3>
<p>
The <b>color</b> command colors atomic models, including
cartoon and molecular surface representations. 
Simple coloring also applies to volume model (map) isosurfaces
and semitransparent solid displays.
The absence of an atom or model specifier implies &ldquo;all&rdquo;
applicable items.
Bonds and <a href="../pseudobonds.html">pseudobonds</a>
are considered as specified when both flanking atoms are specified.
See <a href="#examples">examples</a> below.
See also: <a href="transparency.html"><b>transparency</b></a>,
<a href="volume.html"><b>volume</b></a>,
<a href="mlp.html"><b>mlp</b></a>,
<a href="../tools/moldisplay.html"><b>Molecule Display</b></a> icons,
<a href="colortables.html#autocolors">initial colors</a>,
<a href="colornames.html">color names</a>
</p><p>
Subcommands of <b>color</b>:
</p>
<ul>
<li><a href="#name"><b>color name</b></a> 
- define color names 
<li><a href="#delete"><b>color delete</b></a>
- forget user-defined color names
<li><a href="#list"><b>color list</b></a>
- show color names and swatches in 
the <a href="../tools/log.html"><b>Log</b></a> 
<li><a href="#show"><b>color show</b></a> 
- report RGB definitions of color names in the
<a href="../tools/log.html"><b>Log</b></a>
</ul>
<p>
For simple coloring, the <a name="colorname"><i>colorname</i></a> can be:
<ul>
<li>a <a href="colornames.html">color specification</a> by name,
hexadecimal color code, or component values
<li><a name="byelement"><b>byelement</b> or <b>byatom</b></a>
- a <a href="colortables.html">color-by-element scheme</a>; only applies to 
atomic representations and per-atom patches of molecular surfaces
<li><a name="byhet"><b>byhet</b> or <b>byhetero</b></a>
- same as <b>byelement</b>, except leaving carbon atoms unchanged
<li><b>fromatoms</b>
- color other <a href="#target">targets</a>
(molecular surface patches, <i>etc.</i>) to match the corresponding atoms
<li><a name="bychain"><b>bychain</b></a>
- a stereotyped scheme for coloring by chain ID, also used for the
<a href="colortables.html#autocolors">initial colors</a> of per-chain
<a href="surface.html">molecular surfaces</a>
<li><a name="bymodel"><b>bymodel</b></a>
- the <a href="colortables.html#autocolors">initial colors</a> of atomic models
<li><a name="random"><b>random</b></a>
- random color per atom
</ul>
<a name="level"></a>
The <b>sequential</b> coloring method 
(synonym <b>rainbow</b>, see <a href="#examples">examples</a>)
applies a <a href="#palette-options">series of colors</a>
at the specified <i>level</i>:
<ul>
<li><b>residues</b> - a different color for each residue in a biopolymer chain
(always applies to entire chains); non-biopolymer residues 
such as <a href="atomspec.html#builtin"><b>ligand</b></a> are not affected
<li><b>chains</b> - a different color for each biopolymer chain in an 
atomic model; non-biopolymer residues are not affected
<li><b>molmodels</b> - a different color for each atomic model
</ul>
For <b>rainbow</b> only,
the <i>level</i> can be omitted and defaults to <b>residues</b>.
Sequential coloring applies to all atoms within the affected residues,
chains, or models even if fewer atoms are specified, but can be restricted 
to certain representations with the <a href="#target"><b>target</b></a> option.
</p>

<p class="nav">
[<a href="#top">back to top</a>]
</p>
<a name="general-options"></a>
<h3>General Options</h3>
<p>
Keywords can be truncated to unique strings.
<!--
A vertical bar &ldquo;|&rdquo; designates mutually exclusive options, and
default settings are indicated with <b>bold</b>.
-->
Synonyms for true: True, 1.  Synonyms for false: False, 0.
</p>
<blockquote>
<a name="target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>
<br>
Specify coloring only 
a subset of the possible displays of a given atom, residue, <i>etc.</i>
The <i>string</i> can be any combination of the following letters,
without commas or spaces:
  <ul>
  <li><b>a</b> - atoms/bonds
  (coloring shown for bonds in <a href="#halfbond">halfbond mode</a>)
<!--
  <li><b>l</b> - atom labels
-->
  <li><b>b</b> - bonds-only
  (coloring shown for bonds not in <a href="#halfbond">halfbond mode</a>)
  <li><b>c</b> &nbsp;or&nbsp; <b>r</b>
  - cartoons (ribbons) (divisible to per-residue segments)
  <li><b>s</b> - surfaces
  (molecular surfaces divisible to per-atom patches)
  <li><b>p</b> - pseudobonds-only
  (coloring shown for <a href="../pseudobonds.html">pseudobonds</a>
   not in <a href="#halfbond">halfbond mode</a>)
<!--
  <li><b>r</b> - residue labels
  <li><b>n</b> - nonmolecular models (model-level color)
  <li><b>m</b> - molecular models (model-level color)
  <li><b>d</b> - distances and other pseudobond labels
-->
  </ul>
The default is <b>target abcs</b>, 
<font color="brown">
except that surface coloring is
not yet implemented for <b>sequential</b> coloring
</font>
(if atoms have been colored sequentially, however,
the surface can be colored to match the atoms with the command: 
<b>color fromatoms target s</b>).
<p>
Alternatively, for simple coloring only, a single target
can be specified with a keyword immediately following the 
<a href="#colorname"><i>colorname</i></a>:
</p>
<ul>
<li><b>atoms</b> - equivalent to <b>target a</b>
<li><b>bonds</b> - equivalent to <b>target b</b>
<li><b>cartoons</b> or <b>ribbons</b> - equivalent to <b>target c</b>
or <b>target r</b>
<li><b>surfaces</b> - equivalent to <b>target s</b>
<li><b>pseudobonds</b> - equivalent to <b>target p</b>
</ul>
</blockquote>
<blockquote>
<a name="halfbond"><b>halfbond</b></a>&nbsp;<b>true</b>&nbsp;|&nbsp;false
<br>
By default, bonds are shown in <b><i>halfbond mode</i></b>,
with color and transparency settings from the flanking atoms.
Turning halfbond mode off for a bond (or pseudobond) reveals its
own color/transparency settings independent of the atoms.
This option can be used to toggle halfbond mode
regardless of whether the command colors any bonds.
It affects only the specified bonds (not pseudobonds),
except obeying the <a href="#target">target</a> when it includes <b>p</b>.
</blockquote>
<blockquote>
<b>transparency</b>&nbsp;&nbsp;<i>percent</i>
<br>
Set transparency to the specified <i>percent</i>, 
where 0% is completely opaque and 100% is completely transparent.
Existing transparency is not changed unless this option is used or the
<i>colorname</i> explicitly <a href="colornames.html">specifies</a> 
alpha (opacity). An alpha value overrides this option if both are given.
Note that the <a href="transparency.html"><b>transparency</b></a> command
can be used to set transparency apart from color.
</blockquote>

<p class="nav">
[<a href="#top">back to top</a>]
</p>
<a name="palette-options"></a>
<h3>Palette Options</h3>
<p>
A <b><i>palette</i></b> is an ordered list of colors or value-color pairs.
<blockquote>
<a name="palette"><b>palette</b></a>&nbsp;&nbsp;<i>palette</i>
<br>
Specify a <i>palette</i> for <b>sequential</b> coloring
(synonym <b>rainbow</b>) or <b>map</b> coloring as one of the following:
<ul>
<li>the name of a pre-defined palette (colors listed in ascending value order):
  <ul>
  <li><b>rainbow</b> 
   - blue, cyan, green, yellow, red; default for <b>sequential</b> coloring
  <li><b>red-white-blue</b> or <b>redblue</b>
   - default for <b>map</b> coloring
  <li><b>blue-white-red</b> or <b>bluered</b>
  <li><b>cyan-white-maroon</b> or <b>cyanmaroon</b>
  <li><b>grayscale</b> or <b>gray</b> - black, white
  </ul>
<br>
<li> <i>color1</i>:<i>color2</i>:<i>color3</i>...
a series of colon-separated
<a href="colornames.html">color specifications</i></a>, collectively
enclosed in quotation marks if it contains any spaces
(example: <b>palette cornflowerblue:red:gold</b> or
<b>palette "cornflower&nbsp;blue:red:gold"</b>).
The colors are placed evenly in ascending value order along the range,
with the first and last colors at the extremes.
Colors for intermediate values are interpolated.
<br><br>
<li> <i>value1,color1</i>:<i>value2,color2</i>:<i>value3,color3</i>...
a series of colon-separated
<i>value</i>,<a href="colornames.html"><i>color-spec</i></a> pairs,
collectively enclosed in quotation marks if it contains any spaces
(example: <b>palette "0,cornflower&nbsp;blue:1,gold:0.7,red"</b>).
This type of palette specification cannot be combined with the
<a href="#range"><b>range</b></a> option.
For <b>sequential</b> coloring,
an entire range (such as the residues in each chain 
or the chains in each model) is mapped to fractional values 0.0-1.0.
For numerical data, the values can be specified directly in the
<i>value</i>,<a href="colornames.html"><i>color-spec</i></a> pairs.
Values below the lowest given will map to the same color as the lowest,
and values above the highest will map to the same color as the highest.
Colors are interpolated between specified value-color pairs; 
discrete coloring can be achieved by specifying the same color 
for the upper- and lower-bound values of a &ldquo;bin.&rdquo;
<br><br>
<li> <i>colourlovers-id</i> 
- the ID number, name, or name+author of a palette to be fetched from 
<a href="http://www.colourlovers.com/" target="_blank">COLOURlovers.com</a>. 
Examples:
<blockquote>
<b>palette 92095</b><br>
<b>palette "Giant Goldfish"</b><br>
<b>palette "Giant Goldfish by manekineko"</b>
</blockquote>
The page of a specific palette at 
<a href="http://www.colourlovers.com/" target="_blank">COLOURlovers.com</a>
shows its name, author, ID number (in the URL), and any licensing stipulations
for its use. 
Palette names with spaces must be enclosed in quotation marks.
Palette names are not necessarily unique, and the most-viewed palette of
a specified name will be fetched unless <b>by <i>author</i></b> is appended,
as in the example above.
Palette and author names must be capitalized as shown on the website.
Palettes with &ldquo;all rights reserved&rdquo; cannot be fetched.
In ChimeraX, the palette colors are used in left-to-right order,
spaced equally along the range of values.
Web-fetched palettes are automatically cached locally, as
described for <a href="open.html#fetch"><b>open</b></a>.
</ul>
</blockquote>
<blockquote>
<a name="range">
<b>range</b> &nbsp<i>low</i>,<i>high</i>&nbsp;|&nbsp;<b>full</b></a>
<br>
For numerical data only (not <b>sequential</b> coloring), 
what values should map to the extremes of the palette (default <b>full</b>,
the minimum and maximum values for the items to be colored). 
Alternatively, <i>low</i> and <i>high</i> values separated by a comma only
can be supplied.
When multiple models are colored in a single command,
the <b>full</b> range is determined separately for each model.
</blockquote>

<p class="nav">
[<a href="#top">back to top</a>]
</p>
<a name="examples"></a>
<h3>Examples</h3>
<p>
Example <a href="#top"><b>color</b></a> commands:
</p>
<blockquote>
<b>color /d & helix &nbsp;sky blue &nbsp;target c</b>
<br>&ndash; or &ndash;</br>
<b>color /d & helix &nbsp;sky blue &nbsp;cartoons</b>
</blockquote>
- color chain D helices sky blue, cartoons only (not atoms, <i>etc.</i>)
<blockquote>
<b>color /A,B:12,260-275 &nbsp;hot pink &nbsp;target a</b>
<br>&ndash; or &ndash;</br>
<b>color /A,B:12,260-275 &nbsp;hot pink &nbsp;atoms</b>
</blockquote>
- color residues 12 and 260-275 in chains A and B, atoms/bonds only
<blockquote>
<b>color <a href="atomspec.html#builtin">pbonds</a> &nbsp;yellow
&nbsp;targ p</b>
</blockquote>
- color all pseudobonds yellow, but not their flanking atoms
<blockquote>
<b>color seq res</b>
<br>&ndash; or &ndash;<br>
<b>rainbow res</b>
<br>&ndash; or &ndash;<br>
<b>rainbow</b>
<!--
<br>&ndash; or &ndash;
<br><b>rainbow</b>
-->
</blockquote>
- rainbow-color residues blue &rarr; red along each biopolymer chain
<blockquote>
<b>color #3 seq chain &nbsp;palette cyan</b>
<br>&ndash; or &ndash;<br>
<b>rainbow #3 chain &nbsp;palette cyan</b>
</blockquote>
- color the chains in model 3 from a medium cyan through white to dark maroon
<blockquote>
<b>color seq chain &nbsp;targ c
&nbsp;palette cornflowerblue:red:gold</b>
<br>&ndash; or &ndash;<br>
<b>rainbow chain &nbsp;targ c
&nbsp;palette cornflowerblue:red:gold</b>
</blockquote>
- color the chains in each atomic model, cartoons only,
along the range cornflower blue &rarr; red &rarr; gold
<!--
<blockquote>
<b>color /A &nbsp;attribute bfactor &nbsp;target ac &nbsp;residueVal max</b>
</blockquote>
- rainbow-color chain A atoms by atomic <b>bfactor</b>, 
cartoon segments by maximum atomic <b>bfactor</b> per residue
<blockquote>
<b>color #0 &nbsp;volume #1 &nbsp;palette redblue &nbsp;range -10,10
&nbsp;newAttr esp</b>
</blockquote>
- color model #0 by values in map #1; if #0 includes atoms (as opposed to
surface-only), create new atom attribute named <b>esp</b>
<blockquote>
<b>color #0 &nbsp;volume #1 &nbsp;palette -10,red:0,white:10,medium blue
&nbsp;newAttr esp</b>
</blockquote>
- same as previous except use <b>medium blue</b> instead of <b>blue</b>
-->
<hr>

<p class="nav">
[<a href="#top">back to top</a>]
</p>
<a name="name"></a>
<a name="delete"></a>
<a name="list"></a>
<a name="show"></a>
<h3>Defining and Listing Colors</h3>

<h3><a href="usageconventions.html">Usage</a>:
<BR><b>color name</b> &nbsp;<i>cname</i>
&nbsp;<a href="colornames.html"><i>color-spec</i></a>
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<BR><b>color delete</b>
(&nbsp;<i>cname</i>&nbsp;|&nbsp;all&nbsp;)
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<BR><b>color list</b> [&nbsp;all&nbsp;]
</h3>
<h3><a href="usageconventions.html">Usage</a>:
<BR><b>color show</b> &nbsp;<i>cname</i>
</h3>
<p>
The command <b>color name</b> assigns <i>cname</i> as the name of the
<a href="colornames.html">specified</a> color.  
It can be used to define a new color name or redefine an existing one. 
Color names must begin with an alphabetical letter and may contain 
only lowercase letters, numbers, hyphens, underscores, and spaces. 
If <i>cname</i> has embedded spaces, it must be enclosed in quotation marks.
</p>
Examples:
<blockquote>
<b>color name tpurple 60,0,80,50</b>
<br>
<b>color name tgreen rgba(0%, 80%, 40%, 0.5)</b>
</blockquote>
<p>
The <b>delete</b> option can be used to &ldquo;forget&rdquo; a specific
user-defined color or <b>all</b> user-defined colors. 
A <a href="colornames.html">built-in color name</a> cannot be deleted.
</p><p>
The command <b>color list</b> gives the names and color swatches of
any user-defined colors in the <a href="../tools/log.html"><b>Log</b></a>,
whereas <b>color list all</b> includes the
<a href="colornames.html">built-in colors</a> as well.
</p><p>
The command &ldquo;<b>color show</b> <i>cname</i>&rdquo;
reports in the <a href="../tools/log.html"><b>Log</b></a>
the <b>rgba</b> (red, green, blue, opacity) definition of an existing color
named <i>cname</i>.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
August 2016</address>
</body></html>
