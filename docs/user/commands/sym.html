<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: sym</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: sym</h3>
<h3><a href="usageconventions.html">Usage</a>:
<br><b>sym</b> &nbsp;<a href="atomspec.html"><i>model-spec</i></a></h3>

<h3><a href="usageconventions.html">Usage</a>:
<br><b>sym</b> &nbsp;<a href="atomspec.html"><i>model-spec</i></a>
&nbsp;&nbsp;assembly&nbsp;&nbsp;<i>identifier</i>&nbsp;
[&nbsp;copies&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp;]
[&nbsp;surfaceOnly&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp]
[&nbsp;resolution&nbsp;&nbsp;<i>r</i>&nbsp;]
[&nbsp;gridSpacing&nbsp;&nbsp;<i>s</i>&nbsp;]
</h3>

<h3><a href="usageconventions.html">Usage</a>:
<br><b>sym</b> &nbsp;<a href="atomspec.html"><i>model-spec</i></a>
&nbsp;&nbsp;<i>sym-type</i>
[&nbsp;axis&nbsp;&nbsp;<i>axis</i>&nbsp;]
[&nbsp;center&nbsp;&nbsp;<i>center</i>&nbsp;]
[&nbsp;coordinateSystem&nbsp;&nbsp;<i>N</i>&nbsp;]
[&nbsp;copies&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp;]
[&nbsp;surfaceOnly&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp]
[&nbsp;resolution&nbsp;&nbsp;<i>r</i>&nbsp;]
[&nbsp;gridSpacing&nbsp;&nbsp;<i>s</i>&nbsp;]
</h3>

<h3><a href="usageconventions.html">Usage</a>:
<br><b>sym clear</b> &nbsp;<a href="atomspec.html"><i>model-spec</i></a>
</h3>

<p>
The <b>sym</b> command generates symmetry copies of an atomic model.
See also:
<a href="open.html"><b>open</b></a>,
<a href="close.html"><b>close</b></a>,
<a href="fitmap.html"><b>fitmap</b></a>,
<a href="position.html"><b>position</b></a>,
<a href="surface.html"><b>surface</b></a>,
<b>Cage Builder</b>
</p><p>
Command options are explained in the following sections:
</p>
<blockquote>
<a href="#assembly">Assemblies from mmCIF</a>
<br><a href="#symmetry">User-Specified Symmetry</a>
<br><a href="#copies">How to Represent Copies</a>
</blockquote>

<a name="assembly"></a>
<h4><a href="#top" class="nounder"><b>&larr;</b></a>
Assemblies from mmCIF</h4>
<p>
Given without options, <b>sym</b> lists any assemblies read from
<a href="http://mmcif.wwpdb.org/docs/faqs/pdbx-mmcif-faq-general.html"
target="_blank">mmCIF</a> for the <a href="atomspec.html">specified</a> model.
For each assembly, the <a href="../tools/log.html"><b>Log</b></a> shows a brief 
description and a character-string <i>identifier</i>, usually a number, which
can then be used with the <b>assembly</b> keyword to specify that assembly.
</p>

<a name="symmetry"></a>
<h4><a href="#top" class="nounder"><b>&larr;</b></a>
User-Specified Symmetry</h4>
<p>
Alternatively, symmetry information can specified explicitly in the command.
The <i>sym-type</i> can be:
 <ul>
  <li><b>biomt</b>
  - use &ldquo;biological assembly&rdquo; information from the atomic
  model containing the specified atoms
  <br>(currently this information is only read from PDB format, not mmCIF)
  <li><b>symmetry #<i>N</i></b>
  - use the biological assembly information from another atomic model or the
  symmetry assignment of a volume model, where <i>N</i> is the model number
<!--
  <a href="volume.html#symmetry">symmetry assignment</a> of a volume model
-->
    <ul type="none">
    <li>Example: <b>symmetry #4</b>
    </ul>

   <li>
  <b>symmetry #<i>N</i>,p<i>M</i></b> or <b>symmetry #<i>N</i>,pn<i>M</i></b>
  - use cage model (from <b>Cage Builder</b>) polygon symmetry;
  place copies at equivalent positions relative to each M-sided polygon
  in the cage with model number <i>N</i>.
  The <b>p<i>M</i></b> form places one copy per M-sided polygon, 
  whereas <b>pn<i>M</i></b> places M copies per M-sided polygon using 
  C<font size=-1><i>M</i></font> symmetry about the center
  of the M-sided polygon nearest the original copy.
    <ul type="none">
    <li>Examples: <b>symmetry #2,p6</b> or <b>symmetry #2,pn5</b>
    </ul>

  <li>cyclic symmetry <b>C<i>n</i></b>
   around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>C3</b>
    </ul>

  <li>dihedral symmetry <b>D<i>n</i></b>
   around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>d7</b>
    </ul>

  <li>tetrahedral symmetry <b>T[,<i>orientation</i>]</b>
   around <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>t,z3</b>
    </ul>
   where <i>orientation</i> can be:
   <ul>
   <li><b>222</b> (default)
   - with two-fold symmetry axes along the X, Y, and Z axes, a three-fold
    along axis (1,1,1)
   <li><b>z3</b> - a three-fold symmetry axis along Z, another three-fold
   axis in the YZ plane such that rotation about the X axis by ~110&deg; is a
   symmetry operation (EMAN convention)
   </ul>

  <li>octahedral symmetry <b>O</b> around <a href="#center">center</a>

  <li>icosahedral symmetry <b>I[,<i>orientation</i>]</b>
   around <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>i,n25</b>
    </ul>
   where <i>orientation</i> can be:
    <ul>
    <li><b>222</b> (default)
    - with two-fold symmetry axes along the X, Y, and Z axes
    <li><b>2n5</b> - with two-fold symmetry along X and 5-fold along Z
    <li><b>n25</b> - with two-fold symmetry along Y and 5-fold along Z
    <li><b>2n3</b> - with two-fold symmetry along X and 3-fold along Z
    <li><b>222r</b> - same as 222 except rotated 90&deg; about Z
    <li><b>2n5r</b> - same as 2n5 except rotated 180&deg; about Y
    <li><b>n25r</b> - same as n25 except rotated 180&deg; about X
    <li><b>2n3r</b> - same as 2n3 except rotated 180&deg; about Y
    </ul>

  <li>helical symmetry
  <b>H,<i>rise,angle,n</i>[,<i>offset</i>]</b>
  around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>h,43.5,21,6,-2</b>
    </ul>
  where <i>rise</i> is the translation along the <a href="#axis">axis</a> per
  subunit, <i>angle</i> is the rotation in degrees per subunit,
  and <i>n</i> is how many copies total (including the original)
  the resulting segment of infinite helix should contain.
  The integer <i>offset</i> (default <b>0</b>) allows extending the helix in
  both directions.  The example above would give <i>n</i> = 6 copies total,
  with two copies in the negative axis direction,
  one at the identity position, and three in the positive axis direction.

  <li>translational symmetry
  <b>shift,<i>n,distance</i></b> along <a href="#axis">axis</a>
  &ndash; or &ndash; <b>shift,<i>n,x,y,z</i></b>
    <ul type="none">
    <li>Example: <b>shift,3,26.7</b>
    </ul>
  where <i>n</i> is how many copies total (including the original)
  the result should contain.
  The translation can be expressed as a
  <i>distance</i> along the <a href="#axis">axis</a>
  or as a vector <i>x,y,z</i> in the
  <a href="#coordinateSystem">reference coordinate system</a>.
   
  <li>the product of symmetry groups, each specified as described above
  and separated by <b>*</b> to indicate multiplying each symmetry matrix of one
  group with each symmetry matrix of another; can be generalized to
  multiple symmetry groups (not just two)
    <ul type="none"> 
    <li>Example: <b>c2*h,42,21,9,-4</b>
    </ul>
  </ul>
  The <a name="axis"><b>axis</b></a> option
  specifies axis of symmetry (default <b>z</b>), where <i>axis</i> can be:
   <ul> 
   <li><b>x</b> - X-axis
   <li><b>y</b> - Y-axis
   <li><b>z</b> - Z-axis
   <li><i>x,y,z</i>
   (three values separated by commas only) - an arbitrary vector
   in the <a href="#coordinateSystem">reference coordinate system</a>
   <li>an <a href="atomspec.html"><i>atom-spec</i></a> of
   exactly two atoms (not necessarily bonded or in the same model)
<!-- or one bond.
   A bond can only be specified by <a href="../selection.html">selecting</a>
   it and using the word <b>sel</b>;
   any atoms also selected at the time will be ignored.
--> 
  </ul>
  The <a name="center"><b>center</b></a> 
  option specifies center of symmetry (default <b>0,0,0</b>),
  where <i>center</i> can be:
  <ul>
  <li><i>x,y,z</i>
   (three values separated by commas only) - an arbitrary point
  in the <a href="#coordinateSystem">reference coordinate system</a>
  <li>an <a href="atomspec.html"><i>atom-spec</i></a>
  of any combination of atoms and surface models.
  The center of the bounding sphere of the specified items will be used.
  </ul>
  The <a name="coordinateSystem"><b>coordinateSystem</b></a>
  option specifies a reference model 
  (default is the atomic model containing the specified atoms)
  by model number <i>N</i> preceded by #.
  The reference coordinate system is used for interpreting specifications of
  <a href="#axis">axis</a> and <a href="#center">center</a> of symmetry.
</p>

<a name="copies"></a>
<h4><a href="#top" class="nounder"><b>&larr;</b></a>
How to Represent Copies</h4>
<p>
By default, the added copies are simply graphical clones of
the original structure, and cannot be displayed in different styles and
structures from the original.
</p><p>
With <b>copies true</b> (default <b>false</b>),
the assembly is instead added as a separate model in which each submodel 
can be displayed and colored independently of the others.
Adding all copies as independent (sub)models rather than as graphical clones
requires more memory and may not be practical for larger assemblies.
The original atomic model is hidden but not closed automatically,
even though the same parts of the assembly are also included in the new model.
</p><p>
For a simple appearance and economical use of memory,
<b>surfaceOnly true</b> (default <b>false</b>) indicates calculating per-chain 
surfaces for the original structure and then showing only surfaces
for the copies. The surfaces can be created as graphical clones, 
or if <b>copies</b> is also used, as molecular surface models 
that can be displayed and colored independently of one another
(along with their underlying full atomic data).
The surface calculation is the same as for the
<a href="surface.html"><b>surface</b></a> command
with default <a href="surface.html#parameters">parameters</a>:
<ul>
<li>If <b>resolution</b> is not specified, 
<a href="surface.html#surfdefs">solvent-excluded surfaces</a> (SES)
will be calculated (probe radius 1.4 &Aring;).
<li>If <b>resolution</b> is specified, low-resolution Gaussian surfaces
will be calculated instead.  For each biopolymer chain,
a pseudo-density map is generated by summing over atoms, 
where each atom is described as a Gaussian distribution 
of width proportional to the <b>resolution</b> <i>r</i>
and amplitude equal to the atomic number. 
An isosurface is displayed and the pseudo-density map discarded.
<li> The <b>gridSpacing</b> <i>s</i> is the spacing of the grid used to
calculate either type of surface. The default spacing is <b>0.5</b> &Aring;
for an SES, <b>0.1<i>r</i></b> (one-tenth the resolution)
for a Gaussian surface.
A smaller spacing gives a smoother, more finely triangulated surface,
but uses more memory.
</ul>
<p>
The command <b>sym clear</b> removes all graphical clones of the 
<a href="atomspec.html">specified</a> model(s). Other models, 
including those from using the <b>copies</b> option, are not removed.
</p><p>
Even when <b>copies</b> is <b>false</b> (default),
one or more copies of the full atomic model may be added, namely
when the assembly specifies different sets of matrices for different chains.
In that case, restoring the original state may require not only using 
<b>sym clear</b> but also <a href="close.html">closing</a> the added model(s)
and <a href="show.html">showing</a> all chains of the original copy
(some chains may have been hidden when the assembly was shown).
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
January 2017</address>
</body></html>
