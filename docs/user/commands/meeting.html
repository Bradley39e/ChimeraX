<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: meeting</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: meeting</h3>

<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>start</b>&nbsp;
[&nbsp;<b>copyScene</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;] 
[&nbsp;<b>port</b>&nbsp;&nbsp;<i>N</i>&nbsp;]
[&nbsp;<b>updateInterval</b>&nbsp;&nbsp;<i>M</i>&nbsp;] 
[&nbsp;<b>name</b>&nbsp;&nbsp;<i>participant-name</i>&nbsp;] 
[&nbsp;<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>pointer-color</i></a>&nbsp;] 
[&nbsp;<b>headImage</b>&nbsp;&nbsp;<i>image-file</i>&nbsp;] 
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<i>host</i>&nbsp;
[&nbsp;<b>port</b>&nbsp;&nbsp;<i>N</i>&nbsp;]
[&nbsp;<b>updateInterval</b>&nbsp;&nbsp;<i>M</i>&nbsp;] 
[&nbsp;<b>name</b>&nbsp;&nbsp;<i>participant-name</i>&nbsp;] 
[&nbsp;<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>pointer-color</i></a>&nbsp;] 
[&nbsp;<b>headImage</b>&nbsp;&nbsp;<i>image-file</i>&nbsp;] 
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>send</b>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>close</b>
</h3>
<p>
The <b>meeting</b> command shares a scene between
two or more ChimeraX instances running on different computers.
Its main purpose is to allow multi-person
<a href="../vr.html">virtual reality</a> (VR) sessions in ChimeraX, 
although it can also be used without VR. 
Each participant is represented by a head image and 
hand-controller pointers (or if not using VR, the mouse pointer)
so that participants can see each other pointing at atoms in the scene.
Participants can specify a <b>name</b> to serve as an identifier 
within the shared environment, a head-image file, and a <b>color</b>
for their pointer(s), which are represented by cones.
</p><p>
The meeting is initiated with <b>meeting start</b>, which reports the 
hostname and IP address in the <a href="../tools/log.html"><b>Log</b></a>.
Subsequently, others join using <b>meeting</b> <i>host</i>,
where <i>host</i> is the hostname or IP address of the starting instance
(<i>e.g.</i>, <b>descartes.cgl.ucsf.edu</b> or <b>169.230.21.39</b>).
</p><p>
Aside from synchronizing pointers, the <b>meeting</b> command will 
<a href="#options">copy</a>
a session from the ChimeraX instance that initiates the meeting 
to each person who joins the meeting.
This copying is done only when a person joins the meeting; 
subsequent changes are not shared, except if a particpant using 
VR moves the scene, others using VR will see the motion.
Participants not using VR maintain their own viewing directions.
After opening and closing models or otherwise changing the display, 
however, any participant can share his current scene with the others 
using the <b>meeting send</b> command.
The host can end the meeting with <b>meeting close</b>, or
others can use it to exit the meeting individually.
</p><p>
The <b>meeting</b> command is under development 
and has several <a href="#limitations">limitations</a>.
</p>

<a name="options"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Options</h3>

<blockquote>
<b>copyScene</b> &nbsp;<b>true</b>&nbsp;|&nbsp;false
<br>
Specified with <b>meeting start</b>,
whether to copy the session from the starting instance
to each person who joins the meeting (default <b>true</b>).
This copying is done only when a person joins the meeting. 
Subsequently, if any participant opens a new model
or changes the display of existing models, 
those changes will not appear for the other participants.
However, after making changes, any participant can share his current scene
with the others using <b>meeting send</b>.
</blockquote>
<blockquote>
<b>port</b>&nbsp;&nbsp;<i>N</i>
<br>
Number of the network port used to connect to the meeting host
(default <b>52194</b>).
</blockquote>
<blockquote>
<b>updateInterval</b>&nbsp;&nbsp;<i>M</i>
<br>
How often in frames to send a participant's
VR headset and hand-controller positions to the other participants
(default <b>9</b>, every 9th frame).
In VR, the hand controller motion is tracked at a somewhat
slow rate of about 10 updates per second.
For non-VR users, the mouse pointer is not tracked continuously;
the position is only displayed to others when it hovers over an atom.
</blockquote>
<blockquote>
<b>name</b>&nbsp;&nbsp;<i>participant-name</i>
<br>
Name to show for a participant's pointer and head-image models
in the <a href="../tools/modelpanel.html"><b>Model Panel</b></a>.
</blockquote>
<blockquote>
<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>pointer-color</i></a>
<br>
Color for the cones representing a VR participant's hand-controller pointers
(or non-VR participant's mouse pointer).
</blockquote>
<blockquote>
<b>headImage</b>&nbsp;&nbsp;<i>image-file</i>
<br>
Image to represent a VR participant's headset position,
where <i>image-file</i> is the pathname of a JPG or PNG file.
The pathname can be absolute or relative to the current working directory as
reported by <a href="pwd.html"><b>pwd</b></a>,
Substituting the word <a href="usageconventions.html#browse"><b>browse</b></a>
for the pathname brings up a file browser window for choosing the
file interactively.
</blockquote>

<a name="limitations"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Limitations and Potential Developments</h3>
<p>
In the future we hope to synchronize more kinds of changes 
(hiding/showing, display styles, colors, <i>etc.</i>). 
Currently the only changes propagated to other participants are moving
and scaling the displayed structures. Some additional synchronization 
is simple to add, but changes that create and delete atoms or load new data
will likely require sending the entire updated session to all participants. 
This may be very slow for large amounts of data.
</p><p>
An audio connection is not provided,
so it is necessary to set up a separate audio link for remote participants.
</p><p>
Most academic institutions have firewalls that block incoming network 
connections, and require administrative requests to open up network ports.
A more usable design for shared ChimeraX sessions
would have all participants connect to a hub machine.
To allow this to scale to hundreds of instances running simultaneously,
ChimeraX could start a cloud-based server on demand using a commercial service
that accepts the connections and forwards changes to all participants. 
However, this is a complex undertaking that would require 
accounts and payment for commercial services.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
April 2018</address>
</body></html>
