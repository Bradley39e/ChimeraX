<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: meeting</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: meeting</h3>

<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>start</b>&nbsp;
[&nbsp;<i>meeting-name</i>&nbsp;]
[&nbsp;<a href="#options"><b>name</b></a>&nbsp;&nbsp;<i>participant-name</i>&nbsp;]
[&nbsp;<a href="#options"><b>color</b></a>&nbsp;&nbsp;<i>pointer-color</i>&nbsp;] 
[&nbsp;<a href="#options"><b>faceImage</b></a>&nbsp;&nbsp;<i>image-file</i>&nbsp;]
[&nbsp;<a href="#start-options"><b>proxy</b></a>&nbsp;&nbsp;<i>use-proxy</i>&nbsp;]
<span class="nowrap">&nbsp;<a href="#start-options"><i>other-start-options</i></a></a>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> 
(&nbsp;<i>meeting-name</i>&nbsp;|&nbsp;<i>host</i>&nbsp;)
[&nbsp;<a href="#options"><b>name</b></a>&nbsp;&nbsp;<i>participant-name</i>&nbsp;]
[&nbsp;<a href="#options"><b>color</b></a>&nbsp;&nbsp;<i>pointer-color</i>&nbsp;] 
[&nbsp;<a href="#options"><b>faceImage</b></a>&nbsp;&nbsp;<i>image-file</i>&nbsp;] 
<span class="nowrap">&nbsp;<a href="#options"><i>other-join-options</i></a></a>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>info</b>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>send</b>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>unname</b>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>meeting</b> &nbsp;<b>close</b>
</h3>
<p>
The <b>meeting</b> command shares a scene between
two or more ChimeraX instances running on different computers.
Its main purpose is to allow multi-person
<a href="../vr.html">virtual reality</a> (VR) sessions in ChimeraX.
It can also be used without VR, but in that case, 
a desktop screen-sharing program may be a more reliable alternative.
Each participant is represented by an image and 
hand-controller pointers (or if not using VR, the mouse pointer)
so that participants can see each other pointing at objects in the scene.
For non-VR participants, the camera view is synchronized, and
the cone indicating the mouse pointer position of a non-VR user
is displayed to others when the user pauses the mouse over a model,
as for picking.
</p><p>
Examples:
</p>
<blockquote>
<b>meeting start nanobody</b><br>
&nbsp;&nbsp;&nbsp;&ndash; start a meeting named <i>nanobody</i><br>
<b>meeting start nanobody proxy true</b><br>
&nbsp;&nbsp;&nbsp;&ndash; start a meeting named <i>nanobody</i> using a proxy server to get around firewalls<br>
<b>meeting nanobody</b><br>
&nbsp;&nbsp;&nbsp;&ndash; join a meeting named <i>nanobody</i><br>
<b>meeting close</b><br>
&nbsp;&nbsp;&nbsp;&ndash; leave the current meeting
</blockquote>
<p>
If the computer that started the meeting is not reachable over the 
network by the other participants due to a firewall, a proxy server
can be used. Details of handling <a href="#firewalls">firewalls</a>
are given below. See also: <a href="device.html#vr"><b>vr</b></a>
</p><p>
A meeting is usually initiated with
<b>meeting start</b> <i>meeting-name</i>,
where the meeting name is a text identifier that participants will
use to join the meeting.  Meeting names are not case sensitive.
It is best if the meeting name does not
contain &ldquo;.&rdquo; or &ldquo;:&rdquo; characters
so that it will not be confused
with a host name or IP address. Participants then join the meeting by 
specifying its name, and ChimeraX uses a <a href="#nameServer">name server</a>
to find that meeting's host computer.
If a meeting is instead started without a <i>meeting-name</i>,
participants join it by specifying the host name or IP address
(<i>e.g.</i>, <b>descartes.cgl.ucsf.edu</b> or <b>169.230.21.39</b>)
reported in the <a href="../tools/log.html"><b>Log</b></a> by the
<b>meeting start</b> command. Either way, the starter will need to
communicate to the joiners some way of identifying the specific meeting.
</p><p>
Participants can specify a person <b>name</b> to identify themselves
within the shared environment, a <b>faceImage</b> file,
and a pointer-cone <b>color</b>.
</p><p>
Aside from synchronizing pointers, the <b>meeting</b> command will 
<a href="#start-options">copy</a>
a session from the ChimeraX instance that initiates the meeting 
to each person who joins the meeting.
This copying is done only when a person joins the meeting. 
Commands executed by one participant will automatically execute for the others
(by <a href="#relayCommands">default</a>),
and if a participant using VR moves the scene,
others using VR will see the motion.
Participants not using VR have a synchronized common viewing direction
that is not related to the viewing direction of VR participants.
If unshared changes have been made, a participant can still share 
his current scene with the others by using <b>meeting send</b>.
The <b>meeting info</b> command reports information about the currently
active meeting.
</p><p>
The host can end the meeting with <b>meeting close</b>, or
others can use it to exit the meeting individually.
If the computer that started a meeting loses its network connection
before the meeting is closed the meeting name will not be removed from the name server and future
attempts to use the same meeting name will fail, saying the meeting
name is already being used.  To remove the meeting name from the
name server use <b>meeting unname</b> <i>name</i>.
</p><p>
The <b>meeting</b> command is under development 
and has several <a href="#limitations">limitations</a>.
</p>

<a name="start-options"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Meeting Start Options</h3>

<blockquote>
<a name="proxy"></a>
<b>proxy</b> &nbsp;true&nbsp;|&nbsp;<b>false</b>
<br>
Whether to allow participants to connect to a proxy server.
This is needed when the machine starting the meeting is behind a firewall
and cannot be reached directly by the partipants.
The proxy setting is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>false</b>).
</blockquote>
<blockquote>
<a name="proxyHost"></a>
<b>proxyHost</b> &nbsp;<i>proxy-host</i>
<br>
User and host name for a proxy server.
The proxy host is remembered as a
<a href="../preferences.html#other">preference</a>.
The initial default is <b>tunnel@chimeraxmeeting.net</b>, a public server
provided by the ChimeraX development team for everyone to use.
An ssh tunnel is made to the proxy server so that participants can connect to
the proxy when the meeting host is not directly reachable due to a firewall
(<a href="#useproxy">details...</a>).
The private key for creating the ssh tunnel is provided with the 
<a href="#proxyKey"><b>proxyKey</b></a> option.
No key is needed for the default server.
</blockquote>
<blockquote>
<a name="proxyKey"></a>
<b>proxyKey</b> &nbsp;<i>ssh-identity-file</i>
<br>
The ssh identity file (<i>e.g.</i>, <b>meeting-key-private.pem</b>)
used to make an ssh tunnel to the proxy server given with the 
<a href="#proxyHost"><b>proxyHost</b></a> option.
Substituting the word <a href="usageconventions.html#browse"><b>browse</b></a>
for the pathname brings up a file browser window for choosing the
file interactively.
This identity file is the private key used to connect to the proxy using
the <a href="https://man.openbsd.org/ssh">ssh <i>-i</i></a>
option when creating the tunnel. The file must not
have read permissions by others or ssh will consider it insecure and 
not accept it.
The proxy key file is remembered as a
<a href="../preferences.html#other">preference</a>.
</blockquote>
<blockquote>
<a name="proxyPortRange"></a>
<b>proxyPortRange</b> &nbsp;<i>port-min,port-max</i>
<br>
The range of port numbers to use on the <b>proxyHost</b>.
A randomly chosen port in this range is used if <b>proxy</b> is enabled.
All participants connect to that port. The port range is remembered as a
<a href="../preferences.html#other">preference</a>.
The initial default range of <b>52194,52203</b> 
allows up 10 simultaneous meetings to be handled by the proxy server.
</blockquote>
<blockquote>
<a name="proxyTimeout"></a>
<b>proxyTimeout</b> &nbsp;<i>seconds</i>
<br>
The time to wait for creating the tunnel to the proxy server.
If a connection is not made with this time the meeting will not be started.
The timeout is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>5</b> seconds).
</blockquote>
<blockquote>
<b>port</b>&nbsp;&nbsp;<i>N</i>
<br>
The port number used on the host computer (default <b>52194</b>)
for receiving connections.  One port is used for receiving connections from all
participants.  There is generally no need to change this port number.
</blockquote>
<blockquote>
<a name="nameServer"></a>
<b>nameServer</b> &nbsp;<i>name-host</i>
<br>
Specify the hostname or IP address to use as the meeting-name server.
The name server is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>chimeraxmeeting.net</b>, provided by the 
<a href="http://www.cgl.ucsf.edu/Overview/index.html" 
target="_blank">UCSF RBVI</a>).  Details for setting up a
<a href="#privatenameserver">private name server</a> are below.
</blockquote>
<blockquote>
<b>nameServerPort</b> &nbsp;<i>N</i>
<br>
Port number for the meeting-name server.
The name server port is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>51472</b>).
</blockquote>
<blockquote>
<b>copyScene</b> &nbsp;<b>true</b>&nbsp;|&nbsp;false
<br>
Whether to copy the session from the starting instance
to each person who joins the meeting (default <b>true</b>).
This copying is done only when a person joins the meeting. 
</blockquote>

<a name="options"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Options for Starting or Joining a Meeting</h3>
<blockquote>
<b>name</b>&nbsp;&nbsp;<i>participant-name</i>
<br>
Name to show for a participant's pointer and image models
in the <a href="../tools/modelpanel.html"><b>Model Panel</b></a>.
The participant name is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>Remote</b>).
</blockquote>
<blockquote>
<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>pointer-color</i></a>
<br>
Color for the cones representing a VR participant's hand-controller pointers
(or non-VR participant's mouse pointer).
The pointer color is remembered as a
<a href="../preferences.html#other">preference</a>
(initial default <b>lime</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=lime width="10px" title="lime"></td></tr></table>).
</blockquote>
<blockquote>
<b>faceImage</b>&nbsp;&nbsp;<i>image-file</i>
<br>
Image to represent a VR participant's headset position,
where <i>image-file</i> is the pathname of a JPG or PNG file.
The pathname can be absolute or relative to the current working directory as
reported by <a href="pwd.html"><b>pwd</b></a>,
Substituting the word <a href="usageconventions.html#browse"><b>browse</b></a>
for the pathname brings up a file browser window for choosing the
file interactively. The meeting image pathname is remembered as a
<a href="../preferences.html#other">preference</a>.
</blockquote>
<blockquote>
<a name="relayCommands"></a>
<b>relayCommands</b> &nbsp;<b>true</b>&nbsp;|&nbsp;false
<br>
Whether to share <a href="../index.html#commands">commands</a>
with other participants, and in turn, execute other participants' commands 
automatically (default <b>true</b>).
Note that <a href="../index.html#toolbars">toolbar</a> icon buttons and many 
<a href="ui.html#mousemode">mouseclick/pointer operations</a> act via commands.
</blockquote>
<blockquote>
<b>updateInterval</b>&nbsp;&nbsp;<i>M</i>
<br>
How often to send a participant's
VR headset and hand-controller positions to the other participants
(every <i>M</i><sup>th</sup> frame, default <b>1</b>, every frame).
</blockquote>

<a name="joinoptions"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Options for Joining a Meeting</h3>
<blockquote>
<b>host</b>&nbsp;&nbsp;<i>host-name</i>
<br>
The first argument of the <b>meeting</b> command normally specifies either a 
meeting name or a host name.
Names containing &ldquo;.&rdquo; or &ldquo;:&rdquo;
are interpreted as a host name.
To avoid ambiguity, that first argument can be omitted, and the <b>host</b>
option used instead to ensure interpreting the value as a host name
(<i>e.g.</i>, <b>descartes.cgl.ucsf.edu</b> or <b>169.230.21.39</b>).
</blockquote>
<blockquote>
<b>port</b>&nbsp;&nbsp;<i>N</i>
<br>
If participants join a meeting using a host name or IP address instead of a 
meeting name, they will need to specify the port on the destination computer,
unless it is the default port, <b>52194</b>.
If a meeting name is used to join a meeting, this option is not used, 
as the port will be looked up using the meeting name. 
If a participant is connecting to a proxy server using the server name,
the port should be the port on the proxy server for the meeting.
That randomly chosen port is reported by the <b>meeting start</b> command.
</blockquote>
<blockquote>
<b>id</b>&nbsp;&nbsp;<i>meeting-name</i>
<br>
The first argument of the <b>meeting</b> command normally specifies either a 
meeting name or a host name.
Names containing &ldquo;.&rdquo; or &ldquo;:&rdquo;
are interpreted as a host name.
To avoid ambiguity, that first argument can be omitted, and the <b>id</b>
option used instead to ensure interpreting the value as a meeting name.
</blockquote>
<blockquote>
<a name="timeout"></a>
<b>timeout</b>&nbsp;&nbsp;<i>seconds</i>
<br>
Maximum time to wait when connecting to a meeting (default <b>5</b> seconds). 
If this time is exceeded, an error message is given and the meeting 
will not be joined.
</blockquote>

<a name="limitations"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Limitations</h3>
<p>
<b>Firewalls block connections.</b>
Most academic institutions have firewalls that block incoming network 
connections, and require administrative requests to open up network ports.
The <a href="#proxy">proxy</a> option allows participants to connect from
a publicly visible proxy computer.
Other <a href="#firewalls">firewall solutions</a> are described below.
</p>

<p>
<b>No passwords.</b>
There is no support for passwords to limit access to meetings.
Any person who knows the meeting name can join the meeting.  The
meeting name server provides no way to list meeting names, so only
participants who are told the meeting name will be able to join.
In this sense the meeting name serves as the password, and a less
common name will prevent guessing or accidentally joining the wrong meeting.
Using the public meeting proxy server chimeraxmeeting.net provided by the
ChimeraX team has less security.  Anyone can connect to one of the ten
ports used for hosting meetings and join without the meeting name.
In the future, we could reject connections that do not submit the meeting
name when joining.
</p>

<p>
<b>Synchronizing changes.</b>
After the initial scene is shared changes made by one participant will
be propagated to other participants. Changes that are propagated include 
moving and scaling the displayed structures and
(by <a href="#relayCommands">default</a>) 
executing <a href="../index.html#commands">commands</a>.
If a participant makes any unshared changes or
introduces data for which the input file is not directly accessible 
to others (<i>i.e.</i>, the same <a href="open.html"><b>open</b></a>
command will not work for everyone), <b>meeting send</b> 
is needed to share the updated session.
This may be slow for large amounts of data.
</p>

<p>
<b>Small number of participants.</b>
The meeting command has been used for two to four participants.
The number of participants is not limited.
Larger numbers of participants increase the network bandwidth needed
expecially for the computer hosting the meeting and may result in
slow or jittery updating.  All data to synchronize the scene is
transmitted through the computer that starts the meeting, so it is a bottleneck.
</p>

<p>
<b>No audio chat support.</b>
An audio connection is not provided,
so it is necessary to set up a separate audio link for remote participants.
<a href="https://zoom.us">Zoom</a> using the VR headset speakers and microphone
works well.
</p>

<p>
<b>Aligning two VR headsets in one room.</b>
Two Vive or Vive Pro VR headsets can be used in the same room, each connected
to its own computer. Each headset uses the same pair of base stations.
A problem sometimes arises that the two headsets do not see the 
ChimeraX structures displayed at the same location in the room.
Specifically, one headset may see the structure positions 
as if the room is rotated 180&deg; relative to the other headset.
This happens because the SteamVR room setup is run separately on each computer
and produces a different coordinate system. For structures to have the same
room position in both headsets, the room boundaries traced using SteamVR room
setup should be the same for both computers. The first step of SteamVR room
setup in which users are asked to point the hand controller at the screen 
and click is the key to avoiding 180&deg; misorientation. At that step, it
is important to point along the short axis of the 
rectangle defining the room bounds (that will be traced in a later step).
SteamVR chooses between two coordinate system orientations
rotated 180&deg; from each other based on the direction of pointing.
If pointing is along the long axis of the rectangle bounds, a slight tilt 
toward the left or right of the long axis produces opposite coordinate 
system orientations. Pointing along the short axis instead is a reliable
way to make both computers use the same orientation.
(The computer screen position is irrelevant.)
</p>


<a name="firewalls"></a>
<p class="nav">
[<a href="#top">back to top: meeting</a>]
</p>
<h3>Getting Around Firewalls</h3>
<p>
Most universities, colleges, institutions, companies and government labs 
have firewalls that prevent incoming network connections.
When joining a meeting that is not using a proxy server, 
ChimeraX attempts to connect
to port 52194 on the computer that started the meeting, and shows a status
message &ldquo;Waiting for scene data from meeting host.&rdquo;
If the connection is blocked, after 5 seconds 
(<a href="#timeout">default</a>) an error message will appear:
</p>
<pre style="color:red">
  Socket error Connection timed out
</pre>
<p>
Two ways to resolve the problem are to:
</p>
<ul>
<li><a href="#useproxy">Use a proxy computer</a> outside the firewall;
participants connect to the proxy machine it forwards
connections through the firewall to the computer that started the meeting.
This enabled with the <a href="#proxy">proxy</a> option
of the <b>meeting start</b> command.
<br>&ndash; OR &ndash;<br>
<li><a href="#openport">Open a port in the firewall</a> that protects the computer 
that started the meeting to allow incoming connections.
</ul>
<p>
Details on each approach are given below.
</p>

<a name="useproxy"></a>
<h3>Use a proxy server</h3>

<p>
Participants can connect to a publicly visible proxy computer
which forwards connections through the firewall to the host computer.
This is enabled with the <a href="#proxy">proxy</a> option, for example
<b>meeting start alzheimers proxy true</b>.
A public server chimeraxmeeting.net provided by the ChimeraX development
team will be used and can handle up to 10 simultaneous meetings.
</p>

<p>
Several problems may arise.  The proxy server may be at capacity,
may be out of service, may introduce delays of seconds if participants
are in distant parts of the world from the default server in California, USA,
security is minimal -- anyone could simply try a port on the public proxy
to connect and join a meeting.
</p>

<a name="setupproxy">
<h3>Setting up one's own proxy server</h3>
  
<p>
These problems can be mitigated by setting up and using one's own proxy server,
for example, using Amazon Web Services (AWS). The AWS machine simply accepts
connections and forwards them to the host computer behind the 
institution firewall using an ssh tunnel.
</p><p>
Here is how to set up a proxy using an AWS virtual machine for ChimeraX meeting access.
This could be done with any cloud virtual machine service since only ssh is required.
</p>

<ol>
  <li>Create an AWS EC2 virtual machine; I used a free tier type t2.micro 
using an Ubuntu 18.04 LTS Amazon Machine Image.
The machine will need minimal compute and network bandwidth as it is just 
forwarding data. The only large data being forwarded is the initial 
ChimeraX meeting session. I chose Ubuntu 18.04 only because I have experience 
with it. Any Linux distribution will work, since only ssh will be used.
  <li>Set the virtual machine security group to allow any computer to connect
on ports 52194 - 52203. By default, the virtual machine will not allow connections 
except on ssh port 22, so this is a necessary step.
  <li>Change sshd configuration file on the virtual machine 
/etc/ssh/sshd_config enabling &ldquo;GatewayPorts yes&rdquo;
and restart sshd (on Ubuntu 18, &ldquo;sudo service ssh restart&rdquo;).
This will allow other computers to connect to ssh tunnels.
The normal use of ssh remote tunnels allows only the remote computer to use the tunnel,
so this setting change is necessary.
  <li>Create the tunnel using the <a href="#proxy"><b>proxy</b></a> option
when starting the meeting, for example:
<blockquote>
<b>meeting start antibody309 proxy true proxyHost ubuntu@54.215.157.17 proxyKey meeting-key-private.pem</b>
</blockquote>
The <a href="#proxyKey"><b>proxyKey</b></a> option specifies
the public key encryption file <b>meeting-key-private.pem</b>
that was made when I created the AWS virtual machine. 
It allows ssh access to the virtual machine without typing a password. 
The &ldquo;ubuntu&rdquo; is the default administer account name on the AWS virtual machine.
The meeting command creates the tunnel using ssh by executing a command like
<pre>
      ssh -N -i meeting-key-private.pem -R 52201:localhost:52194 ubuntu@54.215.157.17
</pre>
Connections through the tunnel appear to come from the host machine.
  <li>When participants join the meeting using command <b>meet antibody309</b>
it will connect to the AWS virtual machine public IP address.
The participants do not need any authentication or account on the 
AWS virtual machine. If there are participants within the same firewall 
as the meeting host, they can connect directly to the host computer 
without using the AWS virtual machine (for example, command:
<b>meet 169.230.21.34</b>). Connections through the tunnel and from 
within the firewall can both be made in the same meeting.
  <li>In the above configuration the AWS administration account "ubuntu" was used.
For better security it is worth making a separate account on the virtual machine
to create the tunnels.  This is especially important if the private key
will be shared to allow different people to initiate meetings using this proxy.
The account can have no login shell to prevent using ssh to execute commands,
only allowing tunnels to be created.  On Ubuntu an account named "tunnel"
can be made with the following commands starting from the ubuntu admin account.
<pre>
  sudo adduser tunnel --disabled-password
  sudo su - tunnel
  ssh-keygen -t rsa -b 2048 -m PEM -C "ChimeraX meeting proxy" -f tunnel-key.pem
  mkdir .ssh
  chmod go-rwx .ssh
  mv tunnel-key.pem.pub .ssh/authorized_keys
  # Move tunnel-key.pem (private key) to machine that will start meetings.
  exit
  sudo usermod -s /usr/sbin/nologin tunnel
</pre>
To start a meeting using this safer tunnel account:
<blockquote>
  <b>meeting start antibody309 proxy true proxyHost tunnel@54.215.157.17 proxyKey tunnel-key.pem</b>
</blockquote>
The proxy options used here will be remembered by ChimeraX so subsequent meetings
usng the proxy can be started with
<blockquote>
  <b>meeting start antibody442</b>
</blockquote>
</ol>

<a name="openport"></a>
<h3>Open a firewall port</h3>
<p>
A less complex solution than a proxy is to change the firewall settings protecting
the computer that starts the meeting to allow incoming connections 
on port 52194. Here are two examples of how that can be done:
</p>
<ul>
<li><b>Home network firewall.</b>
If the meeting host is on a home network, a port forwarding rule can be 
added using the home router administration interface.
A home usually has just one internet address visible from the outside,
and a router that
connects all the home devices (computers, phones, tablets, TVs...)
on an internal network.
To allow outside meeting participants to reach the computer on 
the home network:
<ol>
<li>Assign the host computer a static IP address on the home network
(<i>e.g.</i>, 192.168.0.2) &ndash; this is
sometimes called a &ldquo;static lease&rdquo;
<li>Set a port forwarding rule to forward port 52194 to that address
</ol>

<li><b>Institution firewall.</b>
If the computer is behind an institution firewall, it may be possible 
to ask the institution to open the port. For example, 
at the University of California San Francisco, I (Tom Goddard) put in a request
with the Information Technology department to open port 52194
on the campus firewall for connections to my desktop PC.
They opened the port just for this one computer, limiting the security threats. 
It took about 10 days before they processed the request. Some institutions
will not allow these exceptions due to institution security requirements.
</ul>

<a name="privatenameserver"></a>
<h3>Setting up a private name server</h3>
<p>
By default the meeting command uses a name server <i>chimeraxmeeting.net</i> in order to
record the computer address and port number for each active meeting name.  This conveniently
allows participants to join a meeting with a simple command <b>meeting <i>name</i></b>.
The name server does not log the meetings and there is no capability to list the meeting names
or computers addresses and ports, providing privacy and security.  In order to identify a
meeting a request would need to guess the meeting name.
</p>

<p>
For greater security an organization may wish to use their own meeting name server.
This can be done by running shell <b>nohup python3 namerserver.py start &</b> on a machine
accessible to the participants. The nohup allows exiting the shell while leaving the
name server running.  The nameserver.py file is included in the ChimeraX distribution
under Chimerax/lib/python3.8/site-packages/chimerax/meeting/nameserver.py (on Linux).
To use the namer server all participants specify the name server address
using <a href="#nameServer">nameServer</a> option when joining the meeting.
This option value is remembered so only needs to be used once to enable use of the
private name server for future meetings.
</p>

<h3>Future developments</h3>

<p>
<b>User interface panel</b>.
It would be nice to have a user interface panel as an alternative
to typed commands for starting and joining meetings.
The panel could also show settings such as 
proxy, face image, and participant name.  
</p>

<p>
<b>Improved proxy server security</b>.
Currently anyone can connect directly to one of the ports of a proxy
server and join a meeting that is using that port without knowing the meeting name.
In the future, we could reject connections that do not submit the meeting
name when joining.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
November 2020</address>
</body></html>
